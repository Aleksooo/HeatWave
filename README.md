# HeatWave

## Подключение
Чтобы начать работу с модулем необходимо его импортировать. Для этого введем команды
```julia
]pkg > add https://github.com/Aleksooo/HeatWave.git
using HeatWave
```
## Интерфейс
Чтобы промоделировать распространение тепловой волны нужно:
- Создать **проблему**. Для этого используется функция 
```julia
HeatWaveProblem(; ...)
```
Все возможные параметры смотреть в `src/problem.jl`.

- Создать **солвер**. Для этого используется функция
```julia
ImplicitSolver(; ...)
```
Все возможные параметры смотреть в `src/implicit_solver.jl`.

- Чтобы решить **проблему** при помощи **солвера**, необходимо вызвать функцию 
```julia
solve!(problem, solver; ...)
```
Все возможные параметры смотреть в `src/abstract_solver.jl`.

При моделировании необходимо предать поток вывода, поэтому пользователь должен сам создать файл с расширением `.txt` для хранения результатов вычисления.

То есть минимальный код для запуска вычислений выглядит так:
```julia
p = HeatWaveProblem() # создаем проблему
s = ImplicitSolver(; N=...) # создаем солвер
f = open("путь к файлу", "w") # открываем поток для записи
solve!(p, s; M=..., io=f)
close(f)
```

## Визуализация данных
Чтобы визуализировать данные существует две функции:
- `draw_frame()` - отрисовывает только один кадр, который передается в качестве аргумента.

- `draw_series()` - отрисовывает несколько кадров, которые надо передать в качестве массива.

Если вы хотите, чтобы на графиках показывалось аналитическое решение данной задачи, нужно вызвать функцию
```julia
actual_u(problem)
```
В результате данная функция вернет необходимую функцию u(x, t).

Чтобы вызвать отрисовку нужно заранее открыть файл для чтения.

Минимальный код для отрисовки выглядит так:
```julia
p = HeatWaveProblem() # cоздаем проблему 
u = actual_u(p) # создаем целевую функцию

f = open("путь к файлу", "r") # открываем файл для чтения

draw_frame(...; io=f, fn=u)
draw_series([...]; io=f, fn=u)
close(f)
```

## Пример
Чтобы проверить работу модуля перейдите в директорию `"/example/"`

Для начала стоит запусти первый тест. 
```julia
include("example1.jl")
```
Он должен решить проблему при σ=0.5. Пространственная и временная сетки содеражат по 31-му узлу. На графике будет выведены значения функции на 15-м шаге и аналитическое решение в этот момент времени.

Три остальных тесты содержатся в файлах: `example2.jl`, `example3.jl`, `example4.jl` 

## Замечание
Данная проблема имеет решение только при `0 < σ <= 1`, а при `σ > 1` имеет место только обобщенное решение.